!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FRONTEND_SCRIPTS_MAIN.HTML
     JavaScript principal del sistema QA Management
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
// FUNCIONES DE SPINNER Y LOADING
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 

function mostrarSpinner() {
  const overlay = document.getElementById('loadingOverlay');
  if (overlay) {
    overlay.classList.add('active');
    
    // Mensajes aleatorios de carga
    const mensajes = [
      'Preparando tu arsenal de testing...',
      'Cargando casos de prueba...',
      'Sincronizando con el servidor...',
      'Configurando workspace...',
      'Casi listo...',
      'Verificando permisos...',
      'Conectando con Google Sheets...'
    ];
    
    const tips = [
      'ğŸ’¡ Tip: Organiza tus casos por mÃ³dulos',
      'ğŸ’¡ Tip: Usa etiquetas descriptivas en tus bugs',
      'ğŸ’¡ Tip: Los casos crÃ­ticos van primero',
      'ğŸ’¡ Tip: Documenta los pasos claramente',
      'ğŸ’¡ Tip: Adjunta evidencias a tus ejecuciones'
    ];
    
    const mensajeAleatorio = mensajes[Math.floor(Math.random() * mensajes.length)];
    const tipAleatorio = tips[Math.floor(Math.random() * tips.length)];
    
    const loadingMessage = document.getElementById('loadingMessage');
    const loadingTip = document.getElementById('loadingTip');
    
    if (loadingMessage) loadingMessage.textContent = mensajeAleatorio;
    if (loadingTip) loadingTip.textContent = tipAleatorio;
  }
}

function ocultarSpinner() {
  const overlay = document.getElementById('loadingOverlay');
  if (overlay) {
    overlay.classList.remove('active');
  }
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
// FUNCIONES DE NOTIFICACIONES
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 

function mostrarToast(mensaje, tipo = 'success', duracion = 3000) {
  const notification = document.getElementById('notification');
  const icon = document.getElementById('notificationIcon');
  const messageEl = document.getElementById('notificationMessage');
  
  if (!notification) return;
  
  // Configurar icono segÃºn tipo
  const iconos = {
    'success': 'âœ“',
    'error': 'âœ•',
    'warning': 'âš ï¸',
    'info': 'â„¹ï¸'
  };
  
  // Aplicar estilos segÃºn tipo
  notification.className = 'notification show ' + tipo;
  icon.textContent = iconos[tipo] || 'âœ“';
  messageEl.textContent = mensaje;
  
  // Mostrar notificaciÃ³n
  setTimeout(() => {
    notification.classList.add('show');
  }, 100);
  
  // Ocultar despuÃ©s de la duraciÃ³n
  setTimeout(() => {
    notification.classList.remove('show');
  }, duracion);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
// FUNCIONES DE MODALES
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 

function abrirModal(modalId) {
  const modal = document.getElementById(modalId);
  if (modal) {
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
  }
}

function cerrarModal(modalId) {
  const modal = document.getElementById(modalId);
  if (modal) {
    modal.classList.remove('active');
    document.body.style.overflow = 'auto';
  }
}

// Cerrar modal al hacer click fuera
document.addEventListener('click', function(e) {
  if (e.target.classList && e.target.classList.contains('modal-overlay')) {
    const modalId = e.target.id;
    if (modalId) {
      cerrarModal(modalId);
    }
  }
});

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
// FUNCIONES DE UTILIDAD
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 

function getBadgePrioridad(prioridad) {
  const badges = {
    'Critica': 'badge-danger',
    'Alta': 'badge-warning', 
    'Media': 'badge-info',
    'Baja': 'badge-success'
  };
  return badges[prioridad] || 'badge-primary';
}

function getBadgeEstado(estado) {
  const badges = {
    'OK': 'badge-success',
    'No_OK': 'badge-danger',
    'Pendiente': 'badge-warning',
    'En diseÃ±o': 'badge-info',
    'En diseno': 'badge-info',
    'Ejecutando': 'badge-primary'
  };
  return badges[estado] || 'badge-primary';
}

function formatearFecha(fecha) {
  if (!fecha) return '-';
  const date = typeof fecha === 'string' ? new Date(fecha) : fecha;
  return date.toLocaleDateString('es-ES');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
// MANEJO DE ERRORES GLOBAL
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 

window.onerror = function(msg, url, lineNo, columnNo, error) {
  console.error('Error global:', msg, 'en lÃ­nea:', lineNo);
  return false;
};

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
// FUNCIONES DE DEPURACIÃ“N
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 

function debugLog(mensaje, datos) {
  console.log(`[DEBUG] ${mensaje}`, datos || '');
}

// Verificar que las funciones crÃ­ticas estÃ©n disponibles
window.addEventListener('DOMContentLoaded', function() {
  debugLog('DOM cargado completamente');
  
  // Verificar funciones crÃ­ticas
  const funcionesCriticas = [
    'mostrarSpinner',
    'ocultarSpinner',
    'mostrarToast',
    'abrirModal',
    'cerrarModal'
  ];
  
  funcionesCriticas.forEach(func => {
    if (typeof window[func] === 'function') {
      debugLog(`âœ… FunciÃ³n ${func} disponible`);
    } else {
      console.error(`âŒ FunciÃ³n ${func} NO disponible`);
    }
  });
});

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
// INICIALIZACIÃ“N SEGURA
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 

// Asegurar que las funciones estÃ©n disponibles globalmente
window.mostrarSpinner = mostrarSpinner;
window.ocultarSpinner = ocultarSpinner;
window.mostrarToast = mostrarToast;
window.abrirModal = abrirModal;
window.cerrarModal = cerrarModal;
window.getBadgePrioridad = getBadgePrioridad;
window.getBadgeEstado = getBadgeEstado;
window.formatearFecha = formatearFecha;

console.log('âœ… Frontend Scripts Main cargado correctamente');
</script>
